
Ok, inverting a function ins't exactly easy.

Say we have a set E and F.

If we say that E maps to F using function $f$, and say that $f=\cos$.

We'll find that E's items result in F's items, however not every item in F will result in a different result, as $\frac{\pi}{3}, \frac{\pi}{3}+2\pi...$ will result in the same value.

This mean any item outside the $]-1:1[$ range won't have a preimage, and any item in that range will have many items pointing to it.

We'll now try to fix that.

## Injection

Say we have E and F, but this time $f$ maps it so for any item in E has a distinct image.
This would mean this is injective.

We write that something is injective as:

$$
\begin{align}
\forall x, x'\in E && x\ne x' \implies f(x)\ne f(x')\\
\forall x, x'\in E && f(x) = f(x')\implies x=x'\\
\forall x \in E && f^{-1}(\{f(x)\})=\{x\}\\
\forall y \in F && \text{card }f^{-1}(\{y\})\le1
\end{align}
$$

Now, what does it mean to not be injective?

$$
\begin{align}
\exists x, x' \in E && x\ne x', f(x)=f(x')
\end{align}
$$

### Examples

1)

$E=F \text{  } f=id_{E}: x \to x$
It'san application of the identities of E.
It is injective.

2)

$c\in F,  f: E\to F, x\to c$

So, it's x maps to a constant. It's not injective, as everything is a repeat.

3)

$E=F=\mathbb{R}, f:x\to x^2$

Counter: -2 and 2.
Means it isn't.

4)

$E=F=\mathbb{N}, f:x\to x^2$

Here it is, because in R it's x and -x, but here we've only got the natural numbers.
so, $\forall n, m \in \mathbb{N}, m\ne n \implies m^{2}\ne n^{2}$.

to be strict: $n^{2}-m^{2}=(m-n)(m+n)$, and as m isn't n, 1st one isn't 0, and second one can't be, meaning this isn't 0, meaning they aren't equal.

5)

$E=F=\mathbb{R}, f:x\to x^{3}-2x^{2}+3x$

Well, this is more complex.
We haven't worked with cubics, so solving it is out of the question, so let's go with:

Well, say there is $x\in\mathbb{R}$ so that $x'\in f^{-1}(\{f(x)\})$ .

$$
\begin{align}
\iff f(x')=f(x) \\
\iff x'^3-2x^{2}+3x'=x^{3}-2x+3x\\
\iff x'^{3}-x^{3}-2(x'^{2}-x^{2})+3(x'-x)=0 \\
\iff (x'-x)(x^{2}-xx'+x'^{2})-2(x'-x)(x'+x)+3(x'-x) \\
\iff (x'-x) ((x^{2}-xx'+x'^{2})-2(x'+x)+3) \\
\iff (x'-x) (x'^{2}+x^{2}-xx'-2x'-2x+3)=0 \\
\iff (x'-x) (x'^{2}+(x-2)x'+x^{2}-2x+3)=0 \\
\text{ We have a second degree function, which we use viete for. } \\
\Delta =(x-2)^{2}-4(x^{2}-3x+3) \\
=-3x^{2}+4x-8 \\
4^{2}-4(-3)(-8) < 0 \\ 
\implies x'=x \text{ is the only solution. } \\
\forall x\in\mathbb{R}, f^{-1}(\{f(x)\})=\{x\} \\
\implies \text{Conclusion: f is injective.} \\
\end{align}
$$


### Turning injective

How to turn a function injective? Well, the issue we have is that too many elements of our sets map to the same elements in the resulting set.

Why don't we just remove them from the set? And that's exactly what we do, using something called restrictions.

Say compared to the usual example, we have $A\subset E$

E maps to F, but it isn't injective.

What we say is that A is a subset of A, so that f(A) is injective.

We note it:

$f_{|A}:A\to F, x\to f(x)$


So, erm, what's $img(f_{|a})$??

Clearly, and I hope nobody is getting lost in definitions, it's $\{f_{|A}|x\in A\}=\{f(x), x\in A\}$

Basically, the goal is to remove all the elements that result in the same things except one.

### More Examples

$E=F=\mathbb{R}, f: x\to x^{2}-5x+6$

We'll notice we have duplicate values, easily if we [map it](https://www.desmos.com/calculator/wcgda1ifjh), even easier if we don't and just think about what the square implies.

Anyhow, if we solve it like last time, we get:

$$
\begin{align}
\dots\\
\iff (x'-x)(x'+x-5)=0\\
\iff x'=x \text{ or } x'=5-x
\end{align}
$$

Which means $f^{-1}(\{f(x)\})=\{x; 5-x\}$.

It isn't injective.

However, it is injective if we **restrict** the area in which it operates.

The obvious options of the restrictions are:

$f_{|[\frac{5}{2};\infty[}$, and $f_{|]\infty; \frac{5}{2}]}$

A less obvious one is $f_{|[0,1]\bigcup[6;+\infty]}$.


## Composition

The composition of $f: E\to F$ and $g: F\to G$

It's defined as follows:

$$
g\circ f: E\to G, x\to g(f(x))
$$

Basically, we turn elements from set E to set F, and from set F to set G. It's just subsequent application.

## Surjection

Surjective functions have a very simple property: from the starting set, every item in the ending set is mapped to.

Some ways to write this are:

$$\forall y \in F, \exists x\in E , f(x)=y$$

$$\forall y\in F, card f^{-1}(\{y\})\ge1$$

$$f(E)=imgf=F$$

What does it mean to **not** be surjective?

$$\exists y\in F,\forall x, f(x)\ne y$$

$$\exists y\in F, cardf^{-1}(\{y\})=0$$

$$f(E)\ne F$$

Basically, if an element in F doesn't have an element in E that maps to it, the function isn't surjective. 
If we think of a function like $\cos(x)$, this isn't a surjective function, as any value outside of $[-1;1]$ doesn't have something mapping to it.

Ok, so to deal with injective functions, we removed elements from the starting set. Here, we'll do the opposite, and remove elements from the resulting set.

So, to do that, we map to the image of f instead:

$$E\to img f, x\to f(x)$$

## Some examples

#### a

$E=F$

$E=F=[1,2,3]$
$f(x)=x$

This function is surjective.

### b

$E=[1,2,3,4]$
$F=[3]$

$f(x)=3$

As F only has one element, and everything in E maps to it through f, it is surjective. 
If it had any elements, it wouldn't be.

### c

$$\mathbb{R}\to\mathbb{R}$$

$f: x\to2x+1$
$g:  x\to x^{2}+1$

f is surjective, g isn't. f works for any element of R, however g doesn't include stuff like 0, or any negative number.

To make it work, we'd need the resulting set to be $[1;+\infty[$, which we find by finding which elements in the resulting set would have an antecedent.

### d

$E=\mathbb{R}, F=\mathbb{R}^{2}$

$f: x\to(cos(x);sin(x))$

f  isn't surjective, as there is no value that will result in $(0;0)$, or $(2;0)$.

Now, what is the image of this?

Well, if we were to draw this, we'd find the trigonometric circle. This allows us to define:

$imgf=\{(x,y)\in\mathbb{R}^{2}\mid x^{2}+y^{2}=1\}$

So, that's nice.

Well, on $\mathbb{R}\to imgf$, f is surjective.

It's not injective however, but if we reduce the definition set:

on $[0;2\pi[\to img f$, f is both surjective and injective. 

### e

$\mathbb{R}^{2}\to\mathbb{R}^{2}, f(x,y)\to(x^{2}-2xy;2x-y)$

This one is (intentionally) difficult to visualize.

To check if something like this is surjective, we must think in the following way:

Is there a point we can't reach using this?

We can find with enough, an infinite amount of actually, trial and error, but that'd take ages (forever).
This means we probably shouldn't do this like it.
We do it as follows:

$$
\begin{align}
f(x,y)=(u,v)\\
(x^{2}-2xy,2x-y)=(u,v)\\
\begin{cases}  
x^{2}-2xy=u \\ \\
2x-y=v
\end{cases}
\\
\begin{cases}  
x^{2}-2x(2x-v)=u \\ \\
2x-v=y
\end{cases}\\
\begin{cases}  
-3x^{2}+2xv-u=0 \\ \\
2x-v=y
\end{cases}\\
&& \Delta=4v^{2}-12u\\
&& \text{si } v^{2} \lt 3u \text{ then }f^{-1}(\{(u,v)\})=\emptyset
\end{align}
$$
Because $v^{2}<3u$ is something that can happen, this means this isn't surjective. Let's keep going anyways:

$$
\begin{align}
\begin{cases}  
-3x^{2}+2xv-u=0 \\ \\
2x-v=y
\end{cases}\\
\text{can be solved fully to}\\
\begin{cases}
\emptyset \impliedby v^{2}\lt3u \\
 \\
\{(\frac{v}{3}; \frac{v}{3})\} \impliedby v^{2}=3u \\
 \\
\{( \frac{v+\sqrt{v^{2}-3u}}{3}; \frac{-v+\sqrt{v^{2}-3u}}{3} );( \frac{v-\sqrt{v^{2}-3u}}{3}; \frac{-v-\sqrt{v^{2}-3u}}{3})\} \impliedby v^{2}\gt3u
\end{cases}
\end{align}
$$

## Bijonctivity

f is bijective if it's both injective and surjective. 

The simplest notation for that is:

$$\forall y\in F, card f^{-1}(\{y\})=1$$

The other way to think about it is set E maps 1 to 1 to set F through f. 

and this finally allows us to do what this chapter is for originally: inverting the functions, or the reciprocal application of f. It associates to any element in F an element in E.

In other terms: $f^{-1}:F\to E, y\to f^{-1}(y)=x$

And this has the fun thing of:

$f^{-1}(f(x))=x$

so $f^{-1}\circ f=id_{E}$ and $f\circ f^{-1}=id_{F}$

Neat.

### Examples

#### a

$E=F=[1,2,3]$
$f(x)=x$

This is bijective

#### b

$E=F=\mathbb{R}_{+}(=]0;+\infty[)$

$f(x)= \frac{1}{\sqrt{x}}$

This is also bijective, as there is no duplicate, and no value unreached.

The reciprocal of f is:

$f^{-1}: \mathbb{R}_{+}\to\mathbb{R}_{+}$
$f^{-1}: x\to\frac{1}{x^{2}}$

#### c

The typical way to create a bijective is:

$f:E\to F$

say f currently has both problems, so it's neither injective or surjective.

1st step:

we replace $F$ with $imgf$

2nd step:

we replace E with a set $A\subset E$

A must: remove all doubles, while keeping the same image, that verifies $f(A)=imgf$.

This will result in:

$f: A\to imgf, x\to f(x)$

example of that would be:

f: cos(x)

$imgf=[-1;1]$

A is difficult to choose, as we have many repeats and this doesn't have an obvious answer, many are valid, the convention for this particular case is $[0;\pi]$.

This leaves us with:

$f: [0;\pi]\to[-1;1],\ \ x\to\cos(x)$

and we find that:

$f^{-1}:[-1;1]\to[0;\pi],\ \ x=\arccos(x)$

[[1. Generalities|Previous]]